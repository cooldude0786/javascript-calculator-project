<!DOCTYPE html>
<html>
<head>
	<title>Calculator</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

</head>
<body style="background-color: cadetblue;">
<div class="align-content-center align-items-center col-md-12 flex-column p-0 pt-md-5 row">
	<div class="align-items-center bg-secondary col-md-2 flex-column p-3 rounded-lg row">
		<div class="align-items-end bg-white flex-row pr-1 rounded-lg row w-100" >
			<div class="d-flex">
				<label class="p-0 l-0 font-weight-bolder" id="tag"></label>
				<input type="text" class="input-group font-weight-light h1 border-0 m-0 p-0 rounded-top" value="1" id="display_label" style="text-align:end;"></input >
			</div>	
					<div class="input-group ">
					  <div class="input-group-prepend">
					    <button class="btn btn-outline-secondary border-0 m-0" type="button" id="button-addon1" onclick="cleartxt()">C</button>
					  </div>
					  <input type="text" class="form-control font-weight-light border-0 rounded-bottom" id="second_display" value="0"
					  style="text-align: end;">
					</div>
			



			<!-- <div class="input-group">
				 <div class="input-group-prepend">
				    <span class="input-group-text" id="inputGroup-sizing-default">Default</span>
				 </div>
				<input type="text" class="input-group font-weight-light border-0 rounded-bottom" value="1" id="display_label" style="text-align:end;"></input >
			</div>
 -->		</div>
		<div class="row justify-content-center pt-sm-2">
			<button type="button" onclick="valueadd_(this,'7')" id="7" value="7" class="btn btn-light col-sm-2 mx-sm-1">7</button>
			<button type="button" onclick="valueadd_(this,'8')" id="8" value="8" class="btn btn-light col-sm-2 mx-sm-1">8</button>
			<button type="button" onclick="valueadd_(this,'9')" id="9" value="9" class="btn btn-light col-sm-2 mx-sm-1">9</button>
			<button type="button" onclick="addfunction_()" id="+" class="btn btn-light col-sm-2 mx-sm-1">+</button>
		</div>
		<div class="row justify-content-center pt-sm-2">
			<button type="button" onclick="valueadd_(this,'4')" id="4" value="4" class="btn btn-light col-sm-2 mx-sm-1">4</button>
			<button type="button" onclick="valueadd_(this,'5')" id="5" value="5" class="btn btn-light col-sm-2 mx-sm-1">5</button>
			<button type="button" onclick="valueadd_(this,'6')" id="6" value="6" class="btn btn-light col-sm-2 mx-sm-1">6</button>
			<button type="button" onclick="subtractfunction_()" id="-" value="-" class="btn btn-light col-sm-2 mx-sm-1">-</button>
		</div>
		<div class="row justify-content-center pt-sm-2">
			<button type="button" onclick="valueadd_(this,'1')" id="1" value="1" class="btn btn-light col-sm-2 mx-sm-1">1</button>
			<button type="button" onclick="valueadd_(this,'2')" id="2" value="2" class="btn btn-light col-sm-2 mx-sm-1">2</button>
			<button type="button" onclick="valueadd_(this,'3')" id="3" value="3" class="btn btn-light col-sm-2 mx-sm-1">3</button>
			<button type="button" onclick="multifunction_()" id="*" value="*" class="btn btn-light col-sm-2 mx-sm-1">x</button>
		</div>
		<div class="row justify-content-center pt-sm-2">
			<button type="button" onclick="valueadd_(this,'0')" id="0" value="0" class="btn btn-light col-sm-2 mx-sm-1">0</button>
			<button type="button" onclick="valueadd_(this,'.')" id="." value="." class="btn btn-light col-sm-2 mx-sm-1">.</button>
			<button type="button" onclick="equalfunction_()" id="=" value="=" class="btn btn-light col-sm-2 mx-sm-1">=</button>
			<button type="button" onclick="dividfunction_()" id="/" value="/" class="btn btn-light col-sm-2 mx-sm-1">/</button>
		</div>
	<!-- 	<div class="row justify-content-center">
			<button type="button" class="btn btn-light col-sm-3">7</button>
			<button type="button" class="btn btn-light col-sm-3">8</button>
			<button type="button" class="btn btn-light col-sm-3">9</button>
			<button type="button" class="btn btn-light col-sm-3">+</button>
		</div> -->
	</div>
</div>
<script type="text/javascript">
	const keycode_convertor = new Map([
		[96,"0"],
		[97,"1"],
		[98,"2"],
		[99,"3"],
		[100,"4"],
		[101,"5"],
		[102,"6"],
		[103,"7"],
		[104,"8"],
		[105,"9"],
		[107,"+"],
		[109,"-"],
		[106,"*"],
		[111,"/"],
		[106,"*"],
		[13,"="],
		[27,"button-addon1"],
		[110,"."]
		]);
	var x,y;
	var operator=false,add=false,sub=false,mult=false,divid=false;
	var result1 = 0;
	var Result=0;
	document.getElementById("display_label").value = 0;
	x=document.getElementById("display_label");
	function valueadd_(value_,id_){
		y=document.getElementById(id_) ;
		console.log(y.value); 
		console.log(x.value);
		if(x.value=="0"){
			x.value= y.value;
		}
		else{
			x.value = x.value + y.value;
		}
		document.getElementById("display_label").value = x.value;
	}
	function addfunction_(){
		add=true;
		console.log("Addition call");
		result1= result1+Number(x.value);
		document.getElementById("display_label").value = "";
		document.getElementById("second_display").value = result1;
		document.getElementById("tag").innerHTML = "+";
	}
	function subtractfunction_(){
		
		if(sub==true){
			result1=result1- Number(x.value);
			document.getElementById("second_display").value =result1;
		}
			else{
			sub=true;
			result1= Number(x.value)-result1;
		}
		console.log("subtraction call");
		document.getElementById("display_label").value = "";
		document.getElementById("second_display").value = result1;
		document.getElementById("tag").innerHTML = "-";
	}
	function multifunction_(){
		if (mult==true) {
			result1 = result1 * Number(x.value);
			console.log("Multiplication call");
		}else{
		mult=true;
		result1 = result1 + Number(x.value);
	}
		console.log("Multiplication call");
		document.getElementById("display_label").value = "";
		document.getElementById("second_display").value = result1;
		document.getElementById("tag").innerHTML = "*";
	}
	function dividfunction_(){
		if (divid==true) {
			result1 = result1 / Number(x.value);
			console.log("divide function");
		}else{
		divid=true;
		result1 = result1 + Number(x.value);
		}
		console.log("divide function");
		document.getElementById("display_label").value = "";
		document.getElementById("second_display").value = result1;
		document.getElementById("tag").innerHTML = "/";
	}
	function equalfunction_(){
		if(add==true){
		Result = Number(x.value) + result1;
		console.log("add part call");
		document.getElementById("display_label").value =Result;
		document.getElementById("tag").innerHTML = "=";
		result1=0;
		add=false;
	}else if(sub==true){
		Result = result1 - Number(x.value);
		console.log("sub part call");
		document.getElementById("display_label").value =Result;
		document.getElementById("tag").innerHTML = "=";
		result1=0;
		sub=false;
	}else if(mult==true){
		Result =result1 * Number(x.value);
		console.log("mult function activated");
		document.getElementById("display_label").value =Result;
		document.getElementById("tag").innerHTML = "=";
		result1=0;
		mult=false;
	}
	else if(divid==true){
		Result = result1 / Number(x.value);
		console.log("divid part call");
		document.getElementById("display_label").value =Result;
		document.getElementById("tag").innerHTML = "=";
		result1=0;
		divid=false;
	}
		document.getElementById("second_display").value =result1;
		document.getElementById("tag").innerHTML = "=";
	}
	function cleartxt(){
		document.getElementById("display_label").value ="0";
		document.getElementById("second_display").value ="0";
		document.getElementById("tag").innerHTML = "";
		add=false;
		sub=false;
		result1=0;
	}
	// window.addEventListener("keyup", function(event){
	// 	alert(event.keyCode);}
		window.addEventListener("keyup", function(event) 
			{ if(/*event.keyCode ==*/ keycode_convertor.has(event.keyCode))
				{
					let val=keycode_convertor.get(event.keyCode);
					// alert(val);
					document.getElementById(val).click();
				}
			});
</script>








	<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script type="text/javascript">
            $(function () {
  $('[data-toggle="popover"]').popover()
})
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
</body>
</html>

<!-- window.addEventListener("keyup", function(event) { if(event.keyCode == 97){alert(event.keyCode)}})
 code=String.fromCharCode(code);
 -->

